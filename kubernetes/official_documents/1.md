## 基础概念

### Kubernetes 介绍

通过 Kubernetes 解决单体的痛点：

- 应用程序能够 24/7 全天候使用
- 每天可以多次发布部署新版本的应用程序
- 应用程序能够以简单快速的方式发布和更新，而无需停机



Kubernetes 是用来管理容器的工具，在管理大规模的容器集群时，它还提供如下功能：

1. 服务注册和负载均衡





#### 创建 Kubernetes 集群

几个要点：

* **Kubernetes 协调一个高可用计算机集群，每个计算机作为独立单元互相连接工作。**
* 容器化的部署模型，与过去的那种应用直接以包的方式深度与主机集成的部署模型相比更灵活、更可用。



集群包含两种类型的资源:

- **Master** 调度整个集群：Master 协调集群中的所有活动，例如调度应用、维护应用的所需状态、应用扩容以及推出新的更新。可以理解为 Control Plane
- **Nodes** 负责运行应用：**Node 是一个虚拟机或者物理机，它在 Kubernetes 集群中充当工作机器的角色**，可以理解为 Worker 线程角色，**Node 使用 Master 暴露的 Kubernetes API 与 Master 通信**



集群概念图：

<img src="https://pcloud-1258173945.cos.ap-guangzhou.myqcloud.com/uPic/image-20211028162343176.png" alt="image-20211028162343176" style="zoom:50%;" />



创建集群用到的几条的命令：

```sh
# 查看 minikube 版本
$ minikube version
# 启动 cluster 
$ minikube start

# 查看 kubectl 版本
$ kubectl version
# 查看 cluster details 
$ kubectl cluster-info

# 查看节点详情
$ kubectl get nodes

# kubectl get nodes 命令的 out put:
NAME       STATUS   ROLES                  AGE    VERSION
minikube   Ready    control-plane,master   5m5s   v1.20.2
```



#### 部署应用

